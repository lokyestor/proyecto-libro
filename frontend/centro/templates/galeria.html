{% extends 'master.html' %}
{% block zenteno_content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .gallery-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .card {
            margin: 20px;
            width: 18rem;
        }
        .card img {
            height: auto;
            width: 100%;
        }
        .card-body {
            text-align: center;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body>


<!-- Carrusel de imágenes -->
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/static/assets/img/80%.jpg" class="d-block w-100" alt="Primera imagen">
            <div class="carousel-caption d-none d-md-block">
                <!-- <h5>Primera Imagen</h5>
                <p>Descripción de la primera imagen.</p> -->
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/assets/img/50%.jpg" class="d-block w-100" alt="Segunda imagen">
            <div class="carousel-caption d-none d-md-block">
                <!-- <h5>Segunda Imagen</h5>
                <p>Descripción de la segunda imagen.</p> -->
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/assets/img/luca-transformed.jpeg" class="d-block w-100" alt="Tercera imagen">
            <div class="carousel-caption d-none d-md-block">
                <!-- <h5>Tercera Imagen</h5>
                <p>Descripción de la tercera imagen.</p> -->
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Anterior</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Siguiente</span>
    </a>
</div>

    
<div class="container gallery-container">
    <div class="col-sm-6 col-lg-4">
        <div class="card card-sm">
            <a href="#" class="d-block">
                <img src="/static/assets/img/100as.jpg" class="card-img-top" alt="100 años de soledad">
            </a>
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <span class="avatar me-3 rounded" style="background-image: url(/static/tabler/img/avatars/000m.jpg)"></span>
                    <div>
                        <div class="item-name">Cien años de soledad</div>
                        <div class="text-secondary">hace una semana</div>
                    </div>
                    <div class="ms-auto">
                        <a href="#" class="text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                            467
                        </a>
                        <a href="#" class="ms-3 text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
                            67
                        </a>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <strong class="item-price">Precio: $8000</strong>
                </div>
                <button class="btn btn-primary mt-3 add-to-cart">Añadir al carrito</button>
            </div>
        </div>
    </div>


    <div class="col-sm-6 col-lg-4">
        <div class="card card-sm">
            <a href="#" class="d-block">
                <img src="/static/assets/img/quijote.jpg" class="card-img-top" alt="100 años de soledad">
            </a>
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <span class="avatar me-3 rounded" style="background-image: url(/static/tabler/img/avatars/000m.jpg)"></span>
                    <div>
                        <div class="item-name">El quijote de la mancha</div>
                        <div class="text-secondary">hace una semana</div>
                    </div>
                    <div class="ms-auto">
                        <a href="#" class="text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                            467
                        </a>
                        <a href="#" class="ms-3 text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
                            67
                        </a>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <strong class="item-price">Precio: $5000</strong>
                </div>
                <button class="btn btn-primary mt-3 add-to-cart">Añadir al carrito</button>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-lg-4">
        <div class="card card-sm">
            <a href="#" class="d-block">
                <img src="/static/assets/img/principito.jpg" class="card-img-top" alt="100 años de soledad">
            </a>
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <span class="avatar me-3 rounded" style="background-image: url(/static/tabler/img/avatars/000m.jpg)"></span>
                    <div>
                        <div class="item-name">El principito</div>
                        <div class="text-secondary">hace una semana</div>
                    </div>
                    <div class="ms-auto">
                        <a href="#" class="text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                            467
                        </a>
                        <a href="#" class="ms-3 text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
                            67
                        </a>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <strong class="item-price">Precio: $2000</strong>
                </div>
                <button class="btn btn-primary mt-3 add-to-cart">Añadir al carrito</button>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-lg-4">
        <div class="card card-sm">
            <a href="#" class="d-block">
                <img src="/static/assets/img/harry.jpg" class="card-img-top" alt="100 años de soledad">
            </a>
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <span class="avatar me-3 rounded" style="background-image: url(/static/tabler/img/avatars/000m.jpg)"></span>
                    <div>
                        <div class="item-name">Harry potter</div>
                        <div class="text-secondary">hace una semana</div>
                    </div>
                    <div class="ms-auto">
                        <a href="#" class="text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                            467
                        </a>
                        <a href="#" class="ms-3 text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
                            67
                        </a>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <strong class="item-price">Precio: $13000</strong>
                </div>
                <button class="btn btn-primary mt-3 add-to-cart">Añadir al carrito</button>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-lg-4">
        <div class="card card-sm">
            <a href="#" class="d-block">
                <img src="/static/assets/img/1984.jpg" class="card-img-top" alt="100 años de soledad">
            </a>
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <span class="avatar me-3 rounded" style="background-image: url(/static/tabler/img/avatars/000m.jpg)"></span>
                    <div>
                        <div class="item-name">1984</div>
                        <div class="text-secondary">hace una semana</div>
                    </div>
                    <div class="ms-auto">
                        <a href="#" class="text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                            467
                        </a>
                        <a href="#" class="ms-3 text-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>
                            67
                        </a>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <strong class="item-price">Precio: $7000</strong>
                </div>
                <button class="btn btn-primary mt-3 add-to-cart">Añadir al carrito</button>
            </div>
        </div>
    </div>
    <!-- Repite este bloque para los otros artículos, cambiando los precios y otros detalles según sea necesario -->
</div>

<div class="container mt-5">
    <h2>Carrito de Compras</h2>
    <div id="cart" class="card p-3">
        <ul id="cart-items" class="list-group mb-3"></ul>
        <div class="d-flex justify-content-between">
            <strong>Total:</strong>
            <span id="total-price">$0.00</span>
        </div>
        <button class="btn btn-success mt-3" id="checkoutButton">Ir a Pagar</button>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="checkoutModalLabel">Pagar</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Artículos en el carrito:</p>
                <ul id="modal-cart-items" class="list-group mb-3"></ul>
                <div class="d-flex justify-content-between">
                    <strong>Total:</strong>
                    <span id="modal-total-price">$0.00</span>
                </div>
                <form>
                    <div class="form-group">
                        <label for="cardNumber">Número de Tarjeta</label>
                        <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456">
                    </div>
                    <div class="form-group">
                        <label for="expiryDate">Fecha de Expiración</label>
                        <input type="text" class="form-control" id="expiryDate" placeholder="MM/AA">
                    </div>
                    <div class="form-group">
                        <label for="cvv">CVV</label>
                        <input type="text" class="form-control" id="cvv" placeholder="123">
                    </div>
                    <button type="submit" class="btn btn-primary">Pagar</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const cartItems = [];
        const cartList = document.getElementById("cart-items");
        const totalPriceElement = document.getElementById("total-price");
        const modalCartList = document.getElementById("modal-cart-items");
        const modalTotalPriceElement = document.getElementById("modal-total-price");

        function updateCart() {
            cartList.innerHTML = "";
            modalCartList.innerHTML = "";
            let totalPrice = 0;
            cartItems.forEach((item, index) => {
                const li = document.createElement("li");
                li.className = "list-group-item cart-item";
                li.innerHTML = `
                    <span>${item.name} - $${item.price.toFixed(2)}</span>
                    <button class="btn btn-danger btn-sm remove-item" data-index="${index}">Eliminar</button>
                `;
                cartList.appendChild(li);

                const modalLi = document.createElement("li");
                modalLi.className = "list-group-item";
                modalLi.textContent = `${item.name} - $${item.price.toFixed(2)}`;
                modalCartList.appendChild(modalLi);

                totalPrice += item.price;
            });
            totalPriceElement.textContent = `$${totalPrice.toFixed(2)}`;
            modalTotalPriceElement.textContent = `$${totalPrice.toFixed(2)}`;

            document.querySelectorAll(".remove-item").forEach(button => {
                button.addEventListener("click", function() {
                    const index = this.getAttribute("data-index");
                    cartItems.splice(index, 1);
                    updateCart();
                });
            });
        }

        document.querySelectorAll(".add-to-cart").forEach(button => {
            button.addEventListener("click", function() {
                const card = this.closest(".card");
                const itemName = card.querySelector(".item-name").textContent;
                const itemPriceText = card.querySelector(".item-price").textContent;
                const itemPrice = parseFloat(itemPriceText.replace("Precio: $", ""));

                cartItems.push({ name: itemName, price: itemPrice });
                updateCart();
            });
        });

        // Evitar comportamiento por defecto del formulario y cerrar modal después de pagar
        const checkoutForm = document.querySelector('#checkoutModal form');
        checkoutForm.addEventListener('submit', function(event) {
            event.preventDefault();
            alert('Pago realizado con éxito');
            $('#checkoutModal').modal('hide');
        });
    });
</script>

<script>
    document.getElementById('checkoutButton').addEventListener('click', function() {
        window.location.href = '/libro/compra/';
    });
</script>

</body>
</html>

{% endblock %}
